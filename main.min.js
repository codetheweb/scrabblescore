var b="",d=1,e=document.getElementById("invisibleInput");/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&(document.getElementById("message").innerHTML="tap anywhere and start typing...");window.matchMedia("(orientation: portrait)").matches&&(document.getElementById("rotateScreen").className="show");window.addEventListener("orientationchange",function(){document.getElementById("rotateScreen").className=0==screen.orientation.A?"show":""},!1);
document.getElementById("invisibleInput").onkeyup=function(a){a=a||window.event;console.log(a.keyCode||a.which)};
e.onkeyup=function(a){a.preventDefault();var c=document.getElementById("text");a=a||window.event;a=a.keyCode||a.which;if(8!=a&&46!=a)return a=String.fromCharCode(a),a=a.toLowerCase().match(/[a-z]/i),null!=a&10>document.querySelectorAll("#text > .letter-container").length&&(""==b&&(c.innerHTML=""),b+=a,c.innerHTML+='<span class="letter-container" onclick="multiplyLetter(this, '+b.length+')"><span class="letter">'+a+'</span><span class="letter-score">'+f(a[0])+"</span></span>"),k(),!0;8==a&&(c.removeChild(document.getElementById("text").lastChild),
b=b.substring(0,b.length-1));0==document.querySelectorAll("#text > .letter-container").length&&(c.innerHTML='<span id="message">start typing...</span>');k()};document.getElementById("M2x").onclick=function(a){a.preventDefault();"active"!=this.className?(d=2,this.className="active",document.getElementById("M3x").className=""):(d=1,this.className="");k()};
document.getElementById("M3x").onclick=function(a){a.preventDefault();"active"!=this.className?(d=3,this.className="active",document.getElementById("M2x").className=""):(d=1,this.className="");k()};document.onclick=function(){e.focus()};function k(){var a=b;document.getElementById("score").innerHTML=0==f(a)?"":f(a)*d}
function f(a){for(var c={a:1,b:3,c:3,d:2,e:1,f:4,g:2,h:4,i:1,j:8,k:5,l:1,m:3,n:1,o:1,p:3,q:10,r:1,s:1,t:1,u:1,v:4,w:4,x:8,y:4,z:10},g=0,h=0;h<a.length;++h)g+=c[a.charAt(h)]||0;return g};
